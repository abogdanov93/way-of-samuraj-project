{"version":3,"file":"static/js/873.c29e602c.chunk.js","mappings":"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","sources":["webpack://it-kamasutra-project/./src/components/Users/Users.module.css?b9d0","webpack://it-kamasutra-project/./src/components/common/Pagination/Pagination.module.css?82a8","components/common/Pagination/Pagination.jsx","webpack://it-kamasutra-project/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__oN5Ju\"};","// extracted by mini-css-extract-plugin\nexport default {\"selectedPage\":\"Pagination_selectedPage__Pw2dF\",\"pageNumbers\":\"Pagination_pageNumbers__Apg2Y\"};","import React, {useState} from \"react\";\nimport style from \"./Pagination.module.css\";\n\nconst Pagination = ({totalItemsCount, pageSize, onPageChange, currentPageNumber, portionSize = 10}) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPotionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    return <div className={style.pageNumbers}>\n        {portionNumber > 1 &&\n        <div>\n            <div onClick={() => {setPotionNumber(portionNumber = 1)}}>The first</div>\n            <div onClick={() => {setPotionNumber(portionNumber - 1)}}>Previous</div>\n        </div>\n        }\n\n        {pages\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map(p => {\n                return <div className={currentPageNumber === p && style.selectedPage}\n                            onClick={(e) => onPageChange(p)}>{p}</div>\n            })\n        }\n\n        {portionCount > portionNumber &&\n        <div>\n            <div onClick={() => {setPotionNumber(portionNumber + 1)}}>Next</div>\n            <div onClick={() => {setPotionNumber(portionNumber = portionCount)}}>The last</div>\n        </div>}\n    </div>\n}\n\nexport default Pagination;","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__fnnmF\",\"avatar\":\"User_avatar__V2sdX\"};","import React from \"react\";\nimport userAvatar from \"../../../images/userAvatar.jpeg\";\nimport style from \"./User.module.css\";\nimport {NavLink} from \"react-router-dom\";\n\nconst User = ({user, follow, unfollow, followingInProgress}) => {\n    return <div className={style.user}>\n\n        <NavLink to={\"/profile/\" + user.id}>\n\n            <div>\n                <img className={style.avatar} src={user.photos.small != null ? user.photos.small : userAvatar} />\n            </div>\n\n            <div>\n                {user.name}\n            </div>\n\n        </NavLink>\n\n        <div>\n            {user.followed\n                ? <button\n                    disabled={followingInProgress.some(id => id === user.id)}\n                    onClick={() => {\n                        unfollow(user.id)\n                    }}>Unfollow\n                </button>\n\n                : <button\n                    disabled={followingInProgress.some(id => id === user.id)}\n                    onClick={() => {\n                        follow(user.id)\n                    }}>Follow\n                </button>\n            }\n        </div>\n    </div>\n\n}\n\nexport default User;","import React from \"react\";\nimport style from \"./Users.module.css\";\nimport commonStyles from \"./../../App.module.css\";\nimport Pagination from \"../common/Pagination/Pagination\";\nimport User from \"./User/User\";\n\nconst Users = (props) => {\n    return (\n        <div className={`${style.users} ${commonStyles.whiteBlock}`}>\n\n            <div>\n                {props.users.map(u => <User key={u.id}\n                                            user={u}\n                                            follow={props.follow}\n                                            unfollow={props.unfollow}\n                                            followingInProgress={props.followingInProgress}/>\n                )}\n            </div>\n\n            <Pagination totalItemsCount={props.totalUsersCount}\n                        pageSize={props.pageSize}\n                        currentPageNumber={props.currentPageNumber}\n                        onPageChange={props.onPageChange}/>\n        </div>\n    );\n}\n\nexport default Users;","export const getUsers = (state) => {\n    return state.usersPage.users\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPageNumber = (state) => {\n    return state.usersPage.currentPageNumber\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {follow, requestUsers, unfollow} from \"../../redux/usersReducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {\n    getUsers,\n    getCurrentPageNumber,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount\n} from \"../../redux/usersSelectors\";\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        this.props.requestUsers(this.props.currentPageNumber, this.props.pageSize);\n    }\n\n    onPageChange = (pageNumber) => {\n        this.props.requestUsers(pageNumber, this.props.pageSize);\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n            <Users\n                totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                currentPageNumber={this.props.currentPageNumber}\n                onPageChange={this.onPageChange}\n                users={this.props.users}\n                followingInProgress={this.props.followingInProgress}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n            />\n        </>\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPageNumber: getCurrentPageNumber(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default connect(mapStateToProps, {\n    follow,\n    unfollow,\n    requestUsers\n})(UsersContainer);\n"],"names":["totalItemsCount","pageSize","onPageChange","currentPageNumber","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPotionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","onClick","filter","p","map","e","user","follow","unfollow","followingInProgress","to","id","src","photos","small","userAvatar","name","followed","disabled","some","props","commonStyles","users","u","totalUsersCount","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPageNumber","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","Preloader","React","connect"],"sourceRoot":""}