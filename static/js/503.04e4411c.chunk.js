"use strict";(self.webpackChunkit_kamasutra_project=self.webpackChunkit_kamasutra_project||[]).push([[503],{2503:function(e,t,s){s.r(t),s.d(t,{default:function(){return L}});var r=s(8683),o=s(5671),i=s(3144),n=s(136),a=s(2882),u=s(2791),l=s(8687),c="Profile_profile__VHbzQ",d=s(3250),f="ProfileInfo_profileInfo__QG8TK",p="ProfileInfo_avatar__1VFcV",h="ProfileInfo_nickName__Yw6Ql",m="ProfileInfo_status__YrBI5",_="ProfileInfo_aboutMe__l7xQO",v="ProfileInfo_job__4-3LH",x=s(6940),P=s(8284),j=s(885),g="ProfileStatus_status__Qy3qK",N=s(184),Z=function(e){var t=(0,u.useState)(!1),s=(0,j.Z)(t,2),r=s[0],o=s[1],i=(0,u.useState)(e.status),n=(0,j.Z)(i,2),a=n[0],l=n[1];(0,u.useEffect)((function(){l(e.status)}),[e.status]);return(0,N.jsx)("div",{children:r?(0,N.jsx)("input",{value:a,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(a)},autoFocus:!0}):(0,N.jsx)("div",{className:g,onClick:function(){o(!0)},children:e.status||"Write something..."})})},k=function(e){if(!e.profile)return(0,N.jsx)(x.Z,{});return(0,N.jsxs)("div",{className:f,children:[(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("img",{src:e.profile.photos.large||P}),e.isOwner&&(0,N.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})]}),(0,N.jsx)("h1",{className:h,children:e.profile.fullName}),(0,N.jsx)("div",{className:m,children:(0,N.jsx)(Z,{status:e.status,updateStatus:e.updateStatus})}),(0,N.jsx)("div",{className:_,children:e.profile.aboutMe}),(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("h4",{children:"Are you looking for a job?"}),e.profile.lookingForAJobDescription]})]})},b="NewPostForm_newPost__ge1xH",C="NewPostForm_textarea__KY7HT",w="NewPostForm_button__GAVcQ",S=s(6139),F=s(704),I=s(8610),y=s(9274),A=(0,I.D)(5),D=(0,F.Z)({form:"profileNewPostForm"})((function(e){return(0,N.jsxs)("form",{onSubmit:e.handleSubmit,className:b,children:[(0,N.jsx)("div",{className:C,children:(0,N.jsx)(S.Z,{component:y.W,name:"newPostText",placeholder:"Write a post...",validate:[I.C,A],fieldType:"textarea"})}),(0,N.jsx)("div",{className:w,children:(0,N.jsx)("button",{children:"Post"})})]})})),T="Posts_posts__pBNDM",W="Posts_post__DmFTg",B="Posts_like__lS6LI",O="Posts_likeCounter__6NfgY",Q="Posts_delete__-1f+u",H="Posts_avatar__ra5-n",V=function(e){return(0,N.jsxs)("div",{className:T,children:[(0,N.jsx)("div",{className:H,children:(0,N.jsx)("img",{className:H,src:"https://i.pinimg.com/474x/83/73/c9/8373c9bbddf97a72c445eab91f3d6fbc.jpg"})}),(0,N.jsx)("div",{className:W,children:e.post}),(0,N.jsx)("div",{className:B,children:"Like"}),(0,N.jsx)("div",{className:O,children:e.likeCounter}),(0,N.jsx)("div",{className:Q,onClick:function(){e.deletePost(e.id)},children:"delete"})]})},q=function(e){var t=e.profilePage,s=e.addPost,r=e.deletePost,o=e.updateStatus,i=e.isOwner,n=e.savePhoto,a=t.posts.map((function(e){return(0,N.jsx)(V,{id:e.id,post:e.post,likeCounter:e.likeCounter,deletePost:r},e.id)}));return(0,N.jsxs)("div",{className:c,children:[(0,N.jsx)("div",{className:d.Z.whiteBlock,children:(0,N.jsx)(k,{profile:t.profile,status:t.status,updateStatus:o,isOwner:i,savePhoto:n})}),(0,N.jsx)("div",{className:d.Z.whiteBlock,children:(0,N.jsx)(D,{addPost:s,onSubmit:function(e){s(e.newPostText)}})}),(0,N.jsx)("div",{className:d.Z.whiteBlock,children:a})]})},M=s(6871),U=s(6508),Y=s(7781),G=s(1548),K=function(e){(0,n.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.userId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,N.jsx)(q,(0,r.Z)((0,r.Z)({},this.props),{},{profilePage:this.props.profilePage,updateStatus:this.props.updateStatus,addPost:this.props.addPost,deletePost:this.props.deletePost,isOwner:!this.props.router.params.userId,savePhoto:this.props.savePhoto}))}}]),s}(u.Component);var L=(0,Y.qC)((0,l.$j)((function(e){return{profilePage:e.profilePage,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{addPost:U.q2,deletePost:U.fR,getUserProfile:U.et,getStatus:U.lR,updateStatus:U.Nf,savePhoto:U.Ju}),G.D,(function(e){return function(t){var s=(0,M.TH)(),o=(0,M.s0)(),i=(0,M.UO)();return(0,N.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{router:{location:s,navigate:o,params:i}}))}}))(K)},9274:function(e,t,s){s.d(t,{W:function(){return u}});var r=s(8683),o=s(5987),i=(s(2791),s(4544)),n=s(184),a=["meta","input"],u=function(e){var t=e.meta,s=e.input,u=(0,o.Z)(e,a),l=t.touched&&t.error;return(0,n.jsxs)("div",{children:[l&&(0,n.jsx)("div",{className:i.Z.errorWarning,children:t.error}),(0,n.jsx)(u.fieldType,(0,r.Z)((0,r.Z)({className:l&&i.Z.errorFrame},s),u))]})}},1548:function(e,t,s){s.d(t,{D:function(){return p}});var r=s(8683),o=s(5671),i=s(3144),n=s(136),a=s(2882),u=s(2791),l=s(6871),c=s(8687),d=s(184),f=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){(0,n.Z)(u,t);var s=(0,a.Z)(u);function u(){return(0,o.Z)(this,u),s.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(l.Fg,{to:"/login/*"})}}]),u}(u.Component);return(0,c.$j)(f)(t)}},8610:function(e,t,s){s.d(t,{C:function(){return r},D:function(){return o}});var r=function(e){return e?void 0:"Field is required"},o=function(e){return function(t){return t&&t.length<=e?void 0:"The maximum limit is ".concat(e," symbols")}}},4544:function(e,t){t.Z={form:"FormControl_form__R4h1G",errorFrame:"FormControl_errorFrame__yWVax",errorWarning:"FormControl_errorWarning__AtDt+"}},8284:function(e,t,s){e.exports=s.p+"static/media/userAvatar.75e00f766eaf78738633.jpeg"}}]);
//# sourceMappingURL=503.04e4411c.chunk.js.map